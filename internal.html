<script src="js/internal.js"></script>
<div id="pe_internal_container" class="container  text-left">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="row">
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Denominazione Team:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>TeamB</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Team Leader:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>Francesco Brancato</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Membri del Team:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>Francesco Brancato, Mihai Grigore, Alex Pagnotta</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Istituo/scuola:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>Istituto Omnicomprensivo “Rosselli Rasetti”</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Indirizzo:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>Via Bruno Buozzi 82, 06061 - Castiglione del Lago (PG)</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Telefono:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>075-9652482</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Email:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>pgis013005@istruzione.it     francesco.brancato95@gmail.com </p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Titolo del progetto:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>ProjectEnergy</p>
            </div>
        </section>
        <section>
            <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2">
                <p><strong>Categoria del progetto:</strong></p>
            </div>
            <div class="col-xs-6 col-sm-8 col-md-9 col-lg-10">
                <p>Software - tema libero</p>
            </div>
        </section>
    </div>
        </div>
    </div>
    
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#riassunto">
            <h4>Breve descrizione del progetto <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <p id="riassunto" class="collapse">
            Software dedicato alla catalogazione e ricerca attraverso un database di informazioni sui disposiviti elettronici. I dati vengono ordinati in base a vari criteri come il loro consumo o altre caratteristiche tecniche che riguardano l’efficienza energetica. Lo scopo è fornire il maggior numero di informazioni necessarie per permettere a qualunque utente della rete di scegliere il dispositivo più adatto alle proprie esigenze e con il minore consumo di energia. Il software è realizzato in javascript e php, con un’attenzione al rispario energetico. 
        </p>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#introduzione">
            <h4>Introduzione <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div  id="introduzione" class="collapse">
        <p>
            Il nostro progetto, denominato “ProjectEnergy”, riguarda un software web 
            che permetta il censimento e la catalogazione di device elettronici di ogni categoria 
            e delle loro specifiche tecniche (es: amperaggio, consumo orario ecc…). 
            Essendo una piattaforma online accessibile a chiunque, permette ad ogni utente della rete internet 
            di trovare un prodotto di suo interesse e di leggerne i relativi consumi. 
            Ciò potrebbe essere spunto per una scelta di acquisto di un prodotto, per statistiche, 
            classifiche di performance o semplicemente per pura informazione.
            </p>
        </div>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#obiettivi">
            <h4>Obiettivi generali <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div id="obiettivi" class="collapse"><p>
            L’obiettivo principale è quello di sensibilizzare aziende e privati riguardo l’argomento “consumo energetico”, 
            spingendo quindi, le società, a produrre device sempre meno dispendiosi (energeticamente e economicamente parlando) e,  
            gli acquirenti, ad acquistare prodotti con attenzione e riguardo al consumo. 
            A seguire, un altro obiettivo fondamentale è quello di creare un’applicazione centralizzata, 
            fruibile a tutti, semplice e intuitiva, in modo da raggiungere il maggior numero di utenti possibile.</p></div>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#attuazione">
            <h4>Modalità di attuazione <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div id="attuazione" class="collapse"><p>
            Come primo passo, tramite un brainstorming con i ragazzi e i professori, 
            ci si è chiesto che cosa avremmo voluto realizzare, per chi e per cosa. Una volta decisi gli obiettivi, 
            grazie alle esperienze extrascolastiche di alcuni membri del team e ai consigli dei professori, 
            sono state scelte le tecniche e le strumentazioni utili allo sviluppo del progetto. 
            Successivamente, sono stati affidati dei ruoli, quali quello dedicato alla programmazione, 
            all’ideazione e creazione della grafica per l’utente, la stesura di documentazione, 
            la ricerca di dati e informazioni utili e all’inserimento di questi nel database che sarebbe stato progettato. 
            I file di progetto risiedono in un unico computer, in quanto non è stato accordato un metodo di lavoro di gruppo e condiviso. 
            Nonostante questo, è stata fatta una copia online del progetto, in caso fosse servita ai membri del team in computer differenti. 
            Parte client e parte server del software sono state progettate e realizzate contemporaneamente,
            lavorando per “blocchi di funzioni” riguardanti lo stesso argomento (es: device, brand, categorie ecc..). 
            Nel momento in cui l’applicazione web ha raggiunto una forma abbastanza stabile e presentabile è stata messa online su un dominio gratuito. 
            Si è proseguito poi con l’implementazione di nuove funzioni e di miglioramenti generali all’infrastruttura.</p></div>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#strumenti">
            <h4>Strumenti utilizzati <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div id="strumenti" class="collapse"><p>
            Il sistema per lo sviluppo in rete locale si basa su un server apache, avviato grazie al software gratuito “Xampp”. 
            Per la banca dati è stato usato MySQL e come DBMS “MySQL Workbench” e “PhpMyAdmin”. 
            Per quanto riguarda l’ambiente di sviluppo, è stato usato “Brackets”. 
            I linguaggi usati per il software sono HTML5 e CSS3 con l’implementazione della libreria css “Bootstrap” per la parte grafica, 
            JavaScript per il client (con uso di Ajax e  jQuery) e PHP per la parte server. 
            Il debug del software è stato fatto utilizzando il browser “Firefox” con tanto di estensione “Firebug” per gli errori javascript. 
            Per lo scambio di file tra membri del team si è scelto GitHub e per comodità GitHub per Desktop. 
            Il dominio online scelto è www.pr-projectenergy.rhcloud.com ed è fornito da OpenShift.com. 
            Fondamentali Putty, PuttyGen e WinScp, dato che per caricare i file online è richiesta una connessione sicura ftps.</p></div>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#documentazione">
            <h4>Descrizione del lavoro svolto <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div  id="documentazione" class="collapse">
        <p>
        Project Energy vuole diventare una risorsa facile e utile per soddisfare curiosità personali o ricavare dati utili. Come si può vedere già dal suo indirizzo URL, viene ospitato sotto il dominio “rhcloud.com”, su Openshift.com. Perché?
        La scelta si deve al fatto che Openshift è gratuito, semplice da utilizzare e soprattutto sicuro. Basta caricare il proprio sito o il proprio progetto sulla piattaforma GitHub, copiarne l’URL e tutto avverrà in modo automatico. Perché è sicuro?
        A differenza di molti siti di hosting, anche a pagamento, Openshift utilizza protocolli sicuro (ssh e ftps), basati su algoritmi di crittografia asimmetrici, cosa che difficilmente troveremo altrove!
        Il database inoltre non ha limiti restrittivi, la struttura logica e fisica è totalmente personalizzabile, basta rientrare nel limite di 1GB di spazio.<br>
        Come tutte i siti internet con architettura a 3 tier (dai ’90 in poi) c’è un lato client, un lato server e un database. Entrando nei particolari il lato client ho una struttura semplice e intuitiva.<br><br>
        
            
            <div class="row" style="padding-bottom:30px;">
                <div class="hidden-xs col-sm-6 col-md-4 col-lg-3">
                    <img src="img/css.jpg" alt="codecss">
                </div>  
                <div class="col-xs-12 col-sm-6 col-md-8 col-lg-9">
                    Il nostro sito sfrutta i fogli di stile Css, con i quali grazie a Bootstrap che ad Animation.css diamo un tocco sì di modernità, ma anche di efficienza!<br>
	               Il font utilizzato proviene da un progetto aperto cioè “Open sans” nella variante light e medium. Viene pregiato della sua facile leggibilità su qualunque schermo!
                </div>
            </div>
            <div class="row" style="padding-bottom:30px;">
                <div class="col-xs-12 col-sm-8 col-md-9 col-lg-10">
                    L’Html riveste, come in tutti i siti, un ruolo strutturale, cosicché consente di definire gli spazi, che verranno riempiti con i contenuti dinamici grazie al Php e al Javascript.
                   Il Javascript invece rappresenta tutta la logica applicativa lato client. E’ proprio il javascript con la libreria jQuery a fare tutte le chiamate e stampare i risultati provenienti dal server! Stimiamo momentaneamente circa 400 righe di codice spartite in 10 chiamate ajax differenti e codice per la stampa.
                </div>
                <div class="hidden-xs col-sm-4 col-md-3 col-lg-2">
                    <img src="img/boostrap.jpg" alt="codecss" height="80" width="80"><br>
                </div>                
            </div>
        
        Le librerie utilizzate come Bootstrap e jQuery sono un grande supporto per lo sviluppatore, e noi ne abbiamo tratto vantaggio per creare con semplicità e in modo veloce un ambiente leggero e dalle dimensioni ridotte. Effettivamente Bootstrap non fa solo questo, ci rende anche all’avanguardia perché è nativamente responsivo (La pagina cambia in base alle dimensioni della finestra) cosa che ci avvantaggia sia nello sviluppo per dispositivi mobili, che fissi di qualsiasi dimensione. (Caratteristica apprezzata da Google!)<br></br>
        
        
        Passiamo alla grafica!
        Abbiamo scelto uno stile sobrio e tendenzialmente “scuro” per diminuire il consumo energetico. Cosa che renderà lo schermo del vostro device, o calcolatore, più scuro abbassando quindi la necessità di retroilluminazione (o eliminazione totale, addirittura, negli schermo Oled).
        Bootstrap però la fa da padrone, la sua disinvoltura e flessibilità d’impiego lo rende “d’obbligo”! Non serve essere esperti di html per usare bootstrap, e rende le cose facili a chiunque abbia voglia di cercare dei tutorial! (Versione di boostrap 3.3.6) 
        
            <div class="row" style="padding-bottom:30px; padding-top:30px;">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">
                    La struttura Html è così compatta da rientrare in 160 sole righe di codice per la pagina principale! Con la caratteristica che cambiando pagina, effettivamente, cambiano solo i contenuti del corpo, e non la pagina intera, quindi non c’è necessità di ricaricare dati che abbiamo già per cambiare pagina! (La navbar e gli script permangono).<br><br>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-8">
                    <pre style="background: #3a3a3a; padding:8px; color: white; border:none">
&lt;nav class="navbar navbar-default navbar-fixed-top"&gt;
  &lt;div class="container-fluid"&gt;
    &lt;div class="navbar-header"&gt;
        ...
    &lt;/div&gt;
        &lt;ul class="nav navbar-nav navbar-collapse collapse" role="tablist" id="navbar-main"&gt;
            ...
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/nav&gt;</pre>
                </div>                
            </div>
    
        Un ulteriore tocco di eleganza la si può trovare nelle finestre di immissione dei dati, che vengono chiamate <a data-toggle="modal" data-target="#modal_insertDevice">Modal, di Bootstrap</a>. La loro forza sta nella loro semplicità, e l’assoluta potenza intrinseca perché permettono di rappresentare una vera e propria pagina web, dentro una pagina web! Mantenendo comunque le risorse già scaricate!<br><br>
        
        Infine illustriamo il codice utilizzato per fare ciò che sta alla base della comunicazione, le chiamate!<br><br>
        <pre style="background: #3a3a3a; padding:8px; color: white; border:none">
<span style="color:#2d82a3">function</span> getDevices(){
    $("#pe_products").addClass("animated fadeOut");
    $("#pe_products").remove();
    $("#pe_device_container").append('&lt;div id="pe_products" class="row"&gt;&lt;/div&gt;');    
    $.ajax({
        <span style="color:#2d82a3">url</span>:"php/getDevices.php",
        <span style="color:#2d82a3">type</span>:"GET",
        <span style="color:#2d82a3">cache</span>: false,
        <span style="color:#2d82a3">success</span>: function(res){
            res = JSON.parse(res);
            if(res.length>0){
                $.each(res, function(index,row){
                    $("#pe_products").append(buildCard(row));
                });
            }else{
                $("#pe_products").append('&lt;h4&gt;No products here... :( &lt;/h4&gt;');
            }            
            $("#i_getDevices").removeClass('fa-spin');
        },
        <span style="color:#2d82a3">error</span>:function(error){
            $("#pe_products").append('&lt;h4&gt;Oh no! Something gone wrong :S&lt;/h4&gt;&lt;small&gt;'+error.statusText+' '+error.status+', try later...&lt;/small&gt;');
            $("#i_getDevices").removeClass('fa-spin');
        }
    });
};</pre>
        Una delle grandi potenzialità di Js è l’iniezione, ma cosa significa?
        L’iniezione Html è la pratica di stampare del codice html, da normali parole a immagini o contenuti fino a interi pezzi di pagine attraverso il Javascript. E lo si può fare in qualsiasi momento! Questo fa si che i siti non restino sempre uguali, ma cambino in base alle esigenze dell’utente, nonché per la capacità di modificarsi anche una volta caricata la pagina (vedi le chat).
        <br><br>
        Di seguito invece si può vedere la fase dell’immissione di un device generico. Il tutto parte da una funzione che costruisce l’oggetto informatico contenente il nome, la descrizione .. arrivando a fare una chiamata al server attraverso il metodo POST, al termine della quale, se è andato tutto bene, ricarica i contenuti e visualizza il nuovo apparecchio nella griglia.
        <br><br>
        <pre style="background: #3a3a3a; padding:8px; color: white; border:none">
<span style="color:#2d82a3">function</span> insertDevice(){
    <span style="color:#2d82a3">var</span> name = document.getElementById("device_name").value;
    <span style="color:#2d82a3">var</span> desc = document.getElementById("device_desc").value;
    <span style="color:#2d82a3">var</span> brand = $('#device_brand').find('option:selected', this).attr('brandid');
    <span style="color:#2d82a3">var</span> category = $('#category').find('option:selected', this).attr('categoryid');
    <span style="color:#2d82a3">var</span> minwatt = parseFloat(document.getElementById("minwatt").value);
    <span style="color:#2d82a3">var</span> maxwatt = parseFloat(document.getElementById("maxwatt").value);
    <span style="color:#2d82a3">var</span> khw = parseFloat(document.getElementById("khw").value);
    <span style="color:#2d82a3">var</span> volts = parseFloat(document.getElementById("volts").value);
    <span style="color:#2d82a3">var</span> ampere = parseFloat(document.getElementById("ampere").value);
    <span style="color:#2d82a3">var</span> resistence = parseFloat(document.getElementById("resistence").value);
    <span style="color:#2d82a3">var</span> data = { 
        "name" : name, 
        "desc" : desc,
        "brand" : brand, 
        "category" : category,
        "minwatt" : minwatt,
        "maxwatt" : maxwatt,
        "khw" : khw,
        "volts" : volts,
        "ampere" : ampere,
        "resistence" : resistence
    };
    $.ajax({
        <span style="color:#2d82a3">url</span>:"php/insertDevice.php",
        <span style="color:#2d82a3">type</span>:"POST",
        <span style="color:#2d82a3">data</span>: data,
        <span style="color:#2d82a3">success</span>: function(res){
            getDevices();
            $("#i_insertDevices").removeClass('fa-spin');
        },
        <span style="color:#2d82a3">error</span>:function(error){
            console.log(error);
            $("#i_insertDevices").removeClass('fa-spin');
        }
    });
}</pre>
        <br><br>
        Andando avanti, se il testo è stato di suo gradimento, spiegheremo invece ciò che stà dietro al sito, <strong>il server PHP</strong>.
    <br><br>    
    
    Si sa, è il server ad elaborare le risposte alle chiamate del client, e così vale anche per noi. Con una semplice Query si riesce a ricavare la risposta, dal database vero e proprio. Non possiamo certo dire di avere un sito particolarmente complesso e che richiede volumi di spazio molto grandi, ma è proprio questo che sta alla base della nostra filosofia, l’efficienza. Il server effettivamente è solo un porto di attracco dove “passano” le informazioni che dal database viaggiano fino al client, regolamentando dove necessario! Possiamo quindi vantare solamente 130 righe di codice, suddivise in 9 funzioni, per quanto riguarda il PHP!<br><br>
            <pre style="background: #3a3a3a; padding:8px; color: white; border:none">
&lt;?php
$deviceid = $_POST["deviceid"];
if(is_null($deviceid)){
    echo "no data";
}else{
    require_once('connection.php');
    mysql_connect($host,$username,$password)or die("cannot connect"); 
    mysql_select_db($db_name)or die("cannot select DB");
    $sql = "CALL getDevicesByID($deviceid)";
    $query = mysql_query($sql) or die ("Query failed".mysql_error());
    mysql_close();
    $res = array();
    while($row =  mysql_fetch_assoc($query)){
            $res[] = $row;
    }
    echo json_encode($res);
}
?&gt;</pre><br><br>
    Non possiamo non concludere con l’ultimo tassello (e il più importante) del nostro progetto, il DataBase.
    Il nostro DataBase è MySql, con il motore InnoDb. Questa soluzione ci permette una esecuzione facile e veloce, nonché affidabile dei servizi proposti da qualsiasi DataBase relazionale con uno sguardo però all’efficienza! Efficienza, perché la maggior parte delle operazioni che facciamo sul DataBase le facciamo sfruttando le “Procedure” di MySql.
    Cosa sono le “Procedure”?<br><br>
    <img src="img/sp.jpg" alt="sp"><br><br>
    Sono delle funzioni (es. Query) scritte nel linguaggio Sql, che vengono memorizzate nel DataBase stesso e fanno si che dal PHP si chiami direttamente il nome della “Procedura” (o routine), senza passare ogni volta il codice della query, ma passando solamente il nome della “Procedura” e i parametri richiesti, questo riduce il traffico tra il server PHP e SQL, e riduce quindi anche il consumo, aumentando l’efficienza!
    <br><br>
    <img src="img/sp2.jpg" alt="sp"><br><br>
    La struttura si compone di sole 3 tabelle, normalizzate e che evitano sprechi di memoria e spezzettamento eccessivo dei dati!<br>
    Le Tabelle sono: “Brand”, “Category” e “Device”.
        </p>
    </div>
    </div>
    <div class="pe_internal_div">
        <a data-toggle="collapse" data-target="#Conclusioni">
            <h4>Conclusioni <i class="fa fa-chevron-down" aria-hidden="true"></i></h4>
        </a>
        <div  id="Conclusioni" class="collapse">
            <p></p>
        </div>
    </div>
    
    
    
</div>