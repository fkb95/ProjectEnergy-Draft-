function btn_insertBrandClick(){$("#i_insertDevice").addClass("fa-spin"),insertBrand()}function getBrands(){$.ajax({url:"php/getBrands.php",type:"GET",success:function(e){e=JSON.parse(e),$("#pe_brands").remove(),$("#pe_brands_container").append('<div id="pe_brands" class="row row-brand-container"></div>   '),$.each(e,function(e,n){$("#pe_brands").append(buildBrand(n))})},error:function(e){console.log("getBrands error")}})}function getBrandsByTextSearch(e){$("#pe_brands").addClass("animated fadeOut"),$("#pe_brands").remove(),$("#pe_brands_container").append('<div id="pe_brands" class="row row-brand-container"></div>');var n={searchstring:e};$.ajax({url:"php/getBrandsByTextSearch.php",type:"POST",data:n,success:function(e){e=JSON.parse(e),e.length>0?$.each(e,function(e,n){$("#pe_brands").append(buildBrand(n))}):$("#pe_brands").append("<h4>No brand found... :( </h4>"),$("#i_getBrands").removeClass("fa-spin")},error:function(e){$("#pe_brands").append("<h4>Oh no! Something gone wrong :S</h4><small>"+e.statusText+" "+e.status+", try later...</small>"),$("#i_getBrands").removeClass("fa-spin")}})}function insertBrand(){var e={name:document.getElementById("name").value,desc:document.getElementById("desc").value,webs:document.getElementById("webs").value};$.ajax({url:"php/insertBrand.php",type:"POST",data:e,success:function(e){getBrands(),$("#i_insertBrand").removeClass("fa-spin")},error:function(e){console.log(e),$("#i_insertBrand").removeClass("fa-spin")}})}function buildBrand(e){var e='<div class="col-xs-12 col-sm-6 col-md-4 no-padding"><div class="brand-element"><a href="'+e.Website+'">'+e.Name+"</a></div></div>";return e}$("#Brands").ready(function(){getBrands()});var last_searchstring_length;$("#search")[0].addEventListener("keyup",function(){var e=document.getElementById("search").value;(e.length<last_searchstring_length||3>=last_searchstring_length)&&(e.length>=3?getBrandsByTextSearch(e):last_searchstring_length>2&&getBrands()),last_searchstring_length=e.length});